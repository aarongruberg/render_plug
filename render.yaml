previewsEnabled: true

envVarGroups:
  - name: EXAMPLE_ENV_VAR_GROUP_2
    envVars:
      - key: SYNCED_ENV_VAR
        value: "foo-bar"
      - key: NOT_SYNCED_ENV_VAR
        sync: false
      - key: ELIXIR_VERSION
        value: 1.12.0

services:
  - name: render_plug
    type: web
    env: elixir
    envVars:
      - fromGroup: EXAMPLE_ENV_VAR_GROUP
    buildCommand: mix deps.get --only prod && MIX_ENV=prod mix release --overwrite
    startCommand: _build/prod/rel/render_plug/bin/render_plug start
    healthCheckPath: /
    autoDeploy: true
    plan: starter
